@baseUrl = http://127.0.0.1:8000

############################################################
### [A] 1) SETUP: Region + 2 Constituencies --------------------------------------------------

### Region
POST {{baseUrl}}/regions
Content-Type: application/json

{
  "name_th": "กรุงเทพมหานคร",
  "total_population": 1000000
}

### Constituency 1
###
POST {{baseUrl}}/constituencies
Content-Type: application/json

{
  "region_id": 1,
  "const_number": 1,
  "total_eligible_voters": 500
}

### Constituency 2
###
POST {{baseUrl}}/constituencies
Content-Type: application/json

{
  "region_id": 1,
  "const_number": 2,
  "total_eligible_voters": 500
}

############################################################
### 1.1) PARTIES (3 พรรค)
############################################################

### พรรคที่ 1
POST {{baseUrl}}/parties
Content-Type: application/json

{
  "party_name": "พรรคก้าวหน้าไทย",
  "party_leader": "สมชาย ใจดี"
}

### พรรคที่ 2
POST {{baseUrl}}/parties
Content-Type: application/json

{
  "party_name": "พรรคประชาชนพัฒนา",
  "party_leader": "วิภา ศรีสุข"
}

### พรรคที่ 3
POST {{baseUrl}}/parties
Content-Type: application/json

{
  "party_name": "พรรคชาติรุ่งเรือง",
  "party_leader": "อนันต์ บุญเกิด"
}

############################################################
### 1.2) CANDIDATES (2 เขต เขตละ 3 คน)
### candidate_id จะได้เป็น 1..6 ตามลำดับที่ยิง
############################################################

### เขต1 (party 1)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 1,
  "party_id": 1,
  "candidate_number": 1,
  "full_name": "ดร.ณัฐพล สุขสันต์"
}

### เขต1 (party 2)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 1,
  "party_id": 2,
  "candidate_number": 2,
  "full_name": "นางสาวศศิธร วงศ์ทอง"
}

### เขต1 (party 3)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 1,
  "party_id": 3,
  "candidate_number": 3,
  "full_name": "นายปกรณ์ ชัยวัฒนา"
}
### เขต2 (party 1)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 2,
  "party_id": 1,
  "candidate_number": 1,
  "full_name": "นายธีรภัทร เกียรติชัย"
}

### เขต2 (party 2)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 2,
  "party_id": 2,
  "candidate_number": 2,
  "full_name": "นางสาวพิมพ์ชนก สุวรรณ"
}

### เขต2 (party 3)
POST {{baseUrl}}/candidates
Content-Type: application/json

{
  "const_id": 2,
  "party_id": 3,
  "candidate_number": 3,
  "full_name": "นายธนกร ศรีเจริญ"
}
############################################################
### [B] 2) VOTERS (20 คน) — เขต 1: 1..10, เขต 2: 11..20----------------------------------------
### voter_id จะได้เป็น 1..20 ตามลำดับ
############################################################

### เขต 1 (1-10)
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111111", "full_name": "สมชาย ใจดี", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111112", "full_name": "สุดา วงศ์คำ", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111113", "full_name": "ประยูร ศรีทอง", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111114", "full_name": "วิไลพร สุขสวัสดิ์", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111115", "full_name": "ชาญชัย บุญมี", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111116", "full_name": "สุรีย์พร แสงทอง", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111117", "full_name": "อนุชา ภักดี", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111118", "full_name": "นิตยา ศรีสุข", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111119", "full_name": "ธวัชชัย ดีเลิศ", "const_id": 1 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111120", "full_name": "รัตนา ทองดี", "const_id": 1 }

### เขต 2 (11-20)
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111121", "full_name": "กิตติพงษ์ ชัยดี", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111122", "full_name": "พัชรี ศรีงาม", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111123", "full_name": "สุพจน์ บุญรอด", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111124", "full_name": "นฤมล ทองคำ", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111125", "full_name": "ธีรชัย ศรีวงศ์", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111126", "full_name": "จิราพร สุขใจ", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111127", "full_name": "อภิวัฒน์ ดีมาก", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111128", "full_name": "ปรียา ศรีสม", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111129", "full_name": "ชัยณรงค์ วัฒนะ", "const_id": 2 }
###
POST {{baseUrl}}/voters
Content-Type: application/json

{ "citizen_id": "1111111111130", "full_name": "สุภาวดี บุญรักษา", "const_id": 2 }


############################################################
### 4) BALLOTS — ให้ทุกคนโหวตครบ 2 ใบ (รวม 40 ballots)
### เขต 1 winner = candidate_id 1
### เขต 2 winner = candidate_id 5
############################################################

### เขต 1 (voter 1-10)
### constituency: 1 ได้ 6 เสียง, 2 ได้ 3 เสียง, 3 ได้ 1 เสียง
### partylist: party 1 ได้ 6, party 2 ได้ 3, party 3 ได้ 1

### voter 1
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 1,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 1,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 2
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 2,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 2,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 3
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 3,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 3,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 4
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 4,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 4,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 5
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 5,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 5,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 6 (candidate 2, party 2)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 6,
  "const_id": 1,
  "candidate_id": 2,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 6,
  "const_id": 1,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 7 (candidate 2, party 2)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 7,
  "const_id": 1,
  "candidate_id": 2,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 7,
  "const_id": 1,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 8 (candidate 2, party 2)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 8,
  "const_id": 1,
  "candidate_id": 2,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 8,
  "const_id": 1,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 9 (candidate 3, party 3)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 9,
  "const_id": 1,
  "candidate_id": 3,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 9,
  "const_id": 1,
  "party_id": 3,
  "vote_type": "PartyList"
}

### voter 10 (candidate 1, party 1)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 10,
  "const_id": 1,
  "candidate_id": 1,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 10,
  "const_id": 1,
  "party_id": 1,
  "vote_type": "PartyList"
}

### เขต 2 (voter 11-20)
### constituency: candidate 5 ได้ 6 เสียง, candidate 4 ได้ 2, candidate 6 ได้ 2
### partylist: party 2 ได้ 6, party 1 ได้ 2, party 3 ได้ 2

### voter 11 (candidate 5, party 2)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 11,
  "const_id": 2,
  "candidate_id": 5,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 11,
  "const_id": 2,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 12
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 12,
  "const_id": 2,
  "candidate_id": 5,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 12,
  "const_id": 2,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 13
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 13,
  "const_id": 2,
  "candidate_id": 5,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 13,
  "const_id": 2,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 14
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 14,
  "const_id": 2,
  "candidate_id": 5,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 14,
  "const_id": 2,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 15
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 15,
  "const_id": 2,
  "candidate_id": 5,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 15,
  "const_id": 2,
  "party_id": 2,
  "vote_type": "PartyList"
}

### voter 16 (candidate 4, party 1)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 16,
  "const_id": 2,
  "candidate_id": 4,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 16,
  "const_id": 2,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 17 (candidate 4, party 1)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 17,
  "const_id": 2,
  "candidate_id": 4,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 17,
  "const_id": 2,
  "party_id": 1,
  "vote_type": "PartyList"
}

### voter 18 (candidate 6, party 3)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 18,
  "const_id": 2,
  "candidate_id": 6,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 18,
  "const_id": 2,
  "party_id": 3,
  "vote_type": "PartyList"
}

### voter 19 (candidate 6, party 3)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 19,
  "const_id": 2,
  "candidate_id": 7,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 19,
  "const_id": 2,
  "party_id": 4,
  "vote_type": "PartyList"
}

### voter 20 (candidate 5, party 2)
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 20,
  "const_id": 2,
  "candidate_id": 9,
  "vote_type": "Constituency"
}
###
POST {{baseUrl}}/ballots
Content-Type: application/json

{
  "voter_id": 20,
  "const_id": 2,
  "party_id": 20,
  "vote_type": "PartyList"
}


############################################################
### 5) RESULTS / CHECKS
############################################################

### [C] ตรวจว่าคนโหวตครบ (has_voted_* = 1)---------------------------------------------------
GET {{baseUrl}}/voters

### ดู ballot ทั้งหมด
###
GET {{baseUrl}}/ballots

### นับ จำนวน ballot (ต้องเป็น 40) 
###
GET {{baseUrl}}/ballots/count

### นับ จำนวนบัตรดี / บัตรเสีย ballot  
###
GET {{baseUrl}}/ballots/validity-count

### [D] ผลเขต (แยกเขต)---------------------------------------------------------------------
GET {{baseUrl}}/results/constituency

### ผลพรรค (แยกเขต)
###
GET {{baseUrl}}/results/party

### ผลพรรคภาพรวม
###
GET {{baseUrl}}/results/party/overall

### ผลผู้สมัครภาพรวม
###
GET {{baseUrl}}/results/constituency/overall

